!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("plugin-manager"),require("@angular/core"),require("ng-zorro-antd"),require("@angular/common")):"function"==typeof define&&define.amd?define("line-bar",["plugin-manager","@angular/core","ng-zorro-antd","@angular/common"],t):e["line-bar"]=t(e.pluginManager,e.ng.core,e.ngZorroAntd,e.ng.common)}(this,function(e,t,o,r){"use strict";var c=function(){return(c=Object.assign||function c(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=window.echarts,n=(i.prototype.ngOnInit=function(){var e=this;this.initChart(),this.renderChart(),window.addEventListener("resize",function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.initChart(),e.renderChart()},250)})},i.prototype.ngAfterViewInit=function(){},i.prototype.initChart=function(){console.log("init");var e=document.getElementById("chartContainer");this.chart=s.init(e)},i.prototype.renderChart=function(){var e=this.color,t=e.legend,t=void 0===t?{}:t,e=e.seriesMap,i=void 0===e?{}:e,e=this.data,o=e.xAxis,e=e.series,e=void 0===e?[]:e,o=(void 0===o?{}:o).data,o=void 0===o?[]:o,a=[],l=[];e.forEach(function(e,t){var o,r,n=i[e.key]||{};"line"===e.type&&(a.push(c({},e,{step:!0,lineStyle:{color:n.itemColor||(2===t?"#50FFCC":"#52D2FF")},itemStyle:{color:n.itemColor||(2===t?"#50FFCC":"#52D2FF"),opacity:0},showBackground:0===t,backgroundStyle:{color:"rgba(255, 255, 255, 0.05)"}})),l.push({name:e.name,icon:"path://M 0 0 H 10 V 2 H 0 Z"})),"bar"===e.type&&(n.borderColor||0===t&&!n.itemColor?a.push(c({},e,{name:"",stack:1,barGap:"0",borderWidth:0,itemStyle:{normal:{color:new s.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.itemColor&&n.itemColor[0]||"rgba(82, 210, 255, 0.3)"},{offset:.3,color:n.itemColor&&n.itemColor[1]||"rgba(82, 210, 255, 0)"}],!1)}},showBackground:0===t,backgroundStyle:{color:"rgba(255, 255, 255, 0.05)"}}),{type:"bar",name:e.name,stack:1,barGap:"0",itemStyle:{normal:{color:n.borderColor||"rgba(82, 210, 255, 1)"}},label:{normal:{show:!1}},data:(o=e.data,r=(o=void 0===o?[]:o).reduce(function(e,t){return e+t},0)/o.length/40*1.5,Array(o.length).fill(r)),tooltip:{show:!1}}):a.unshift(c({},e,{stack:1,itemStyle:{color:n.itemColor||"#FF435B"},showBackground:0===t,backgroundStyle:{color:"rgba(255, 255, 255, 0.05)"}})),l.push({name:e.name,icon:"path://M 0 0 H 8 V 8 H 0 Z"}))});e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:c({icon:"rect",itemWidth:10,itemGap:18,textStyle:{color:"#fff"},top:20,right:20},t,{data:l}),grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",axisLabel:{color:"#BABBCA",fontSize:14},axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},data:o},yAxis:{type:"value",nameTextStyle:{fontSize:14,color:"#BABBCA"},axisLabel:{width:20,fontSize:14,color:"#BABBCA"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed",color:"rgba(198, 198, 198, 0.40)"}}},series:a};this.chart.clear(),this.chart.setOption(e,!1)},i.decorators=[{type:t.Component,args:[{selector:"lib-line-bar",template:'<div class="chart" id="chartContainer"></div>\n',styles:[".chart{width:100%;height:100%}"]}]}],i.ctorParameters=function(){return[{type:e.PluginManagerService},{type:e.componentData}]},i);function i(e,t){this.pluginManagerService=e,this.chartOptions={},console.log("comData",t),this.data=t.configData.data,this.color=t.configData.color}function a(){}return a.decorators=[{type:t.NgModule,args:[{declarations:[n],entryComponents:[n],imports:[r.CommonModule,o.NgZorroAntdModule],exports:[n]}]}],e.createPlugin({name:"line-bar",module:a,component:n})});
//# sourceMappingURL=line-bar.umd.min.js.map