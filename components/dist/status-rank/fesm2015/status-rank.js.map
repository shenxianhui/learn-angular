{"version":3,"file":"status-rank.js.map","sources":["ng://status-rank/lib/status-rank.component.ts","ng://status-rank/lib/status-rank.module.ts","ng://status-rank/public-api.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { PluginManagerService, componentData } from \"plugin-manager\";\n\n@Component({\n  selector: \"lib-status-rank\",\n  templateUrl: \"./status-rank.component.html\",\n  styleUrls: [\"./status-rank.component.styl\"],\n})\nexport class StatusRankComponent implements OnInit {\n  @ViewChild(\"tbody\")\n  tbodyDiv: ElementRef;\n  data: any;\n  color: any;\n\n  constructor(\n    private pluginManagerService: PluginManagerService,\n    comData: componentData\n  ) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData);\n    this.data = comData.configData.data;\n    this.color = comData.configData.color;\n  }\n\n  getPercentage(value, list = []) {\n    let total = 0;\n\n    list.forEach((item) => {\n      total += item.value;\n    });\n\n    return (value / total) * 100 + \"%\";\n  }\n\n  ngOnInit() {\n    let rollingNum = this.data.rollingNum || 3\n    if (this.data.list.length <= rollingNum) {\n      return\n    }\n\n    const animateElements = () => {\n      const trList = this.tbodyDiv.nativeElement.querySelectorAll(\".wrap\");\n\n\n      trList.forEach((element, index) => {\n        if (index == 0) {\n          element.style.transform = \"translateY(-10px) rotateX(90deg)\";\n          trList[0].style.opacity = \"0\";\n          return\n        }\n        element.style.transform = \"translateY(-92px)\";\n      });\n\n      setTimeout(() => {\n        this.data.list.push(this.data.list.shift());\n\n        trList.forEach((element) => {\n          element.style.transition = \"none\";\n          element.style.transform = \"translate(0,0)\";\n          element.style.opacity = \"none\";\n          element.style.opacity = \"1\";\n          element.offsetHeight;\n          element.style.transition = \"all 0.5s ease\";\n        });\n      }, 500);\n    };\n    setInterval(animateElements, 3000);\n\n\n\n  }\n\n  getBodyHeight() {\n    const dataLength = this.data.list.length;\n    const rollingNum = this.data.rollingNum;\n    const num = dataLength > rollingNum ? rollingNum : dataLength;\n\n    return num * 72 + (num - 1) * 20 + \"px\";\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { StatusRankComponent } from './status-rank.component';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { CommonModule } from '@angular/common'\n\n@NgModule({\n  declarations: [StatusRankComponent],\n  entryComponents: [StatusRankComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [StatusRankComponent]\n})\n\nexport class StatusRankModule { }\n","import { createPlugin } from \"plugin-manager\";\nimport { StatusRankComponent } from \"./lib/status-rank.component\";\nimport { StatusRankModule } from \"./lib/status-rank.module\";\n\nexport default createPlugin({\n  name: \"status-rank\",\n  module: StatusRankModule,\n  component: StatusRankComponent,\n});\n"],"names":[],"mappings":"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"}
