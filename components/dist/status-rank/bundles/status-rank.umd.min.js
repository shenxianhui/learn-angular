!function(t,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("plugin-manager"),require("@angular/core"),require("ng-zorro-antd"),require("@angular/common")):"function"==typeof define&&define.amd?define("status-rank",["plugin-manager","@angular/core","ng-zorro-antd","@angular/common"],a):t["status-rank"]=a(t.pluginManager,t.ng.core,t.ngZorroAntd,t.ng.common)}(this,function(t,a,r,n){"use strict";s.prototype.getPercentage=function(t,a){var r=0;return(a=void 0===a?[]:a).forEach(function(t){r+=t.value}),t/r*100+"%"},s.prototype.ngOnInit=function(){var t=this,a=this.data.rollingNum||3;this.data.list.length<=a||setInterval(function(){var r=t.tbodyDiv.nativeElement.querySelectorAll(".wrap");r.forEach(function(t,a){0==a?(t.style.transform="translateY(-10px) rotateX(90deg)",r[0].style.opacity="0"):t.style.transform="translateY(-92px)"}),setTimeout(function(){t.data.list.push(t.data.list.shift()),r.forEach(function(t){t.style.transition="none",t.style.transform="translate(0,0)",t.style.opacity="none",t.style.opacity="1",t.offsetHeight,t.style.transition="all 0.5s ease"})},500)},3e3)},s.prototype.getBodyHeight=function(){var t=this.data.list.length,a=this.data.rollingNum,a=a<t?a:t;return 72*a+20*(a-1)+"px"},s.decorators=[{type:a.Component,args:[{selector:"lib-status-rank",template:'<div class="status-rank" #tbody [style.height]="getBodyHeight()">\n  <div class="wrap" *ngFor="let item of data.list">\n    <div class="left">\n      <div class="text-wrap">\n        <div class="text text-ellipsis">{{ item.title }}</div>\n      </div>\n      <div class="nub-wrap">\n        <div class="nub">{{ item.value }}</div>\n        \x3c!-- <img [src]="item.icon" alt="" /> --\x3e\n      </div>\n    </div>\n    <div class="right">\n      <div class="line"></div>\n      <div class="state-wrap">\n        <div class="state" *ngFor="let item1 of item.column; let index = index">\n          <div\n            class="state-text"\n            [style.fontSize]="(color.column || [])[index]?.LabelSize"\n            [style.color]="(color.column || [])[index]?.LabelColor"\n          >\n            {{ item1.label }}\n          </div>\n          <div class="state-nub-wrap">\n            <div class="progressbar">\n              <div\n                class="external"\n                [style.backgroundColor]="\n                  (color.column || [])[index]?.progressColor &&\n                  (color.column || [])[index]?.progressColor.length\n                    ? (color.column || [])[index]?.progressColor[1]\n                    : null\n                "\n              >\n                <div\n                  class="internal"\n                  [style.backgroundColor]="\n                    (color.column || [])[index]?.progressColor &&\n                    (color.column || [])[index]?.progressColor.length\n                      ? (color.column || [])[index]?.progressColor[0]\n                      : null\n                  "\n                  [style.width]="getPercentage(item1.value, item.column)"\n                ></div>\n              </div>\n            </div>\n            <div\n              class="number-wrap"\n              [style.backgroundColor]="\n                (color.column || [])[index]?.ValueBgColor\n              "\n            >\n              <div\n                class="number"\n                [style.fontSize]="(color.column || [])[index]?.ValueSize"\n                [style.color]="(color.column || [])[index]?.ValueColor"\n              >\n                {{ item1.value }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- 需要用定位的 --\x3e\n    <div class="background-wrap">\n      <div class="pic-wrap">\n        <img\n          class="pic-left"\n          src="assets/status-rank/image/status_rank_draw1.png"\n          alt=""\n        />\n        <img\n          class="pic-mid"\n          src="assets/status-rank/image/status_rank_draw2.png"\n          alt=""\n        />\n      </div>\n      <div class="middle-wrap">\n        <div class="middle-line"></div>\n      </div>\n      <div class="pic-wrap">\n        <img\n          class="pic-mid rotate180"\n          src="assets/status-rank/image/status_rank_draw2.png"\n          alt=""\n        />\n        <img\n          class="pic-left"\n          src="assets/status-rank/image/status_rank_draw1.png"\n          alt=""\n        />\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[".rotate180{transform:rotate(180deg)}.text-ellipsis{width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.status-rank{width:100%;height:100%;overflow:hidden}.status-rank .wrap{position:relative;display:flex;width:100%;transition:.5s}.status-rank .wrap:not(:last-child){margin-bottom:20px}.status-rank .wrap .left{width:25%}.status-rank .wrap .left .text-wrap{margin-bottom:9px;display:flex;justify-content:center;align-items:center;width:100%;height:23px;background-image:url(assets/status-rank/image/title_bg.png);background-size:100% 100%;background-repeat:no-repeat}.status-rank .wrap .left .text-wrap .text{text-align:center;font-size:14px;font-weight:Medium;color:#52d2ff;line-height:14px}.status-rank .wrap .left .nub-wrap{display:flex;align-items:center;justify-content:center;margin-top:11px;width:50%;height:34px;border-top:1px solid rgba(255,255,255,.4);border-bottom:1px solid rgba(255,255,255,.4)}.status-rank .wrap .left .nub-wrap .nub{font-size:20px;font-weight:Medium;text-align:left;color:#fafbff;line-height:20px;font-family:Roboto,Roboto-Medium}.status-rank .wrap .left .nub-wrap img{width:40px;height:40px}.status-rank .wrap .right{flex-grow:1}.status-rank .wrap .right .line{position:relative;margin-left:4px;margin-bottom:12px;height:1px;background-color:rgba(255,255,255,.4)}.status-rank .wrap .right .line::after{content:'';position:absolute;right:0;top:0;width:1px;height:8px;background-color:rgba(255,255,255,.4)}.status-rank .wrap .right .state-wrap{display:flex;flex-grow:1}.status-rank .wrap .right .state-wrap .state{flex-grow:1;margin-right:12px}.status-rank .wrap .right .state-wrap .state:nth-child(1) .state-nub-wrap .progressbar .external .internal{background:linear-gradient(90deg,rgba(82,210,255,.5),rgba(109,217,255,.9) 99%)}.status-rank .wrap .right .state-wrap .state:nth-child(1) .state-nub-wrap .number-wrap{background:rgba(82,210,255,.12)}.status-rank .wrap .right .state-wrap .state:nth-child(1) .state-nub-wrap .number-wrap .number{color:#52d2ff}.status-rank .wrap .right .state-wrap .state:nth-child(2) .state-nub-wrap .progressbar .external .internal{background:linear-gradient(90deg,rgba(255,191,89,.5),rgba(255,191,89,.9) 99%)}.status-rank .wrap .right .state-wrap .state:nth-child(2) .state-nub-wrap .number-wrap{background:rgba(255,191,89,.12)}.status-rank .wrap .right .state-wrap .state:nth-child(2) .state-nub-wrap .number-wrap .number{color:#ffbf59}.status-rank .wrap .right .state-wrap .state:nth-child(3) .state-nub-wrap .progressbar .external .internal{background:linear-gradient(90deg,rgba(255,67,91,.5),rgba(255,67,91,.9) 99%)}.status-rank .wrap .right .state-wrap .state:nth-child(3) .state-nub-wrap .number-wrap{background:rgba(255,67,91,.12)}.status-rank .wrap .right .state-wrap .state:nth-child(3) .state-nub-wrap .number-wrap .number{color:#ff435b}.status-rank .wrap .right .state-wrap .state .state-text{margin-bottom:6px;font-size:14px;font-weight:Regular;text-align:right;color:rgba(255,255,255,.8);line-height:14px}.status-rank .wrap .right .state-wrap .state .state-nub-wrap .progressbar .external{width:100%;height:4px;background:rgba(255,255,255,.2)}.status-rank .wrap .right .state-wrap .state .state-nub-wrap .progressbar .external .internal{height:4px}.status-rank .wrap .right .state-wrap .state .state-nub-wrap .number-wrap{height:35px;padding-top:6px}.status-rank .wrap .right .state-wrap .state .state-nub-wrap .number-wrap .number{font-size:18px;font-weight:Medium;text-align:right;line-height:18px;margin-right:6px;font-family:Roboto,Roboto-Medium}.status-rank .background-wrap{position:absolute;top:32px;left:calc(12.5% + 8px);right:0;display:flex}.status-rank .background-wrap .pic-wrap{display:flex;align-items:center}.status-rank .background-wrap .pic-wrap .pic-left{width:4px;height:34px}.status-rank .background-wrap .pic-wrap .pic-mid{width:4px;height:6px;margin:0 2px}.status-rank .background-wrap .middle-wrap{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:rgba(255,255,255,.01)}.status-rank .background-wrap .middle-wrap .middle-line{width:100%;height:1px;background:rgba(250,251,255,.12)}"]}]}],s.ctorParameters=function(){return[{type:t.PluginManagerService},{type:t.componentData}]},s.propDecorators={tbodyDiv:[{type:a.ViewChild,args:["tbody"]}]};var e=s;function s(t,a){this.pluginManagerService=t,console.log("comData",a),this.data=a.configData.data,this.color=a.configData.color}function i(){}return i.decorators=[{type:a.NgModule,args:[{declarations:[e],entryComponents:[e],imports:[n.CommonModule,r.NgZorroAntdModule],exports:[e]}]}],t.createPlugin({name:"status-rank",module:i,component:e})});
//# sourceMappingURL=status-rank.umd.min.js.map