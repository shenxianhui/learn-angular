{"version":3,"file":"top-rank.umd.js.map","sources":["ng://top-rank/lib/top-rank.component.ts","ng://top-rank/lib/top-rank.module.ts","ng://top-rank/public-api.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { PluginManagerService, componentData } from \"plugin-manager\";\n\n@Component({\n  selector: \"lib-top-rank\",\n  templateUrl: \"./top-rank.component.html\",\n  styleUrls: [\"./top-rank.component.styl\"],\n})\nexport class TopRankComponent implements OnInit {\n  @ViewChild(\"tbody\")\n  tbodyDiv: ElementRef;\n  @ViewChild(\"rowbody\")\n  rowbodyDiv: ElementRef;\n  data: any;\n  color: any;\n\n  constructor(\n    private pluginManagerService: PluginManagerService,\n    comData: componentData\n  ) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData);\n    this.data = comData.configData.data;\n    this.color = comData.configData.color;\n  }\n\n  ngOnInit() {\n    if (this.data.rollingDirection == 'row') {\n      if (this.data.list.length <= 2) {\n        return\n      }\n      setInterval(() => {\n        let trList = this.rowbodyDiv.nativeElement.querySelectorAll(\".second-wrap\");\n        trList.forEach((element, index) => {\n          element.animate(\n            [\n              { transform: \"translateX(0)\" },\n              { transform: \"translateX(calc(-100% + -20px))\" }\n            ],\n            {\n              duration: 500,\n              iterations: 1,\n            }\n          );\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n        }, 500);\n      }, 3000);\n    } else {\n      let rollingNum = this.data.rollingNum || 3\n      if (this.data.list.length <= rollingNum) {\n        return\n      }\n      const animateElements = () => {\n        let trList = this.tbodyDiv.nativeElement.querySelectorAll(\".fourth-wrap\");\n\n        trList.forEach((element, index) => {\n          if (index == 0) {\n            element.style.transform = \"translateY(-10px) rotateX(90deg)\";\n            trList[0].style.opacity = \"0\";\n            return\n          }\n          element.style.transform = \"translateY(-44px)\";\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n\n          trList.forEach((element) => {\n            element.style.transition = \"none\";\n            element.style.transform = \"translate(0,0)\";\n            element.style.opacity = \"none\";\n            element.style.opacity = \"1\";\n            element.offsetHeight;\n            element.style.transition = \"all 0.5s ease\";\n          });\n        }, 500);\n      };\n      setInterval(animateElements, 3000);\n    }\n  }\n\n  getBodyHeight() {\n    const rollingNum = this.data.rollingNum;\n    const num = rollingNum ? (rollingNum * 43) + 'px' : '100%';\n    return num;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { TopRankComponent } from \"./top-rank.component\";\nimport { NgZorroAntdModule } from \"ng-zorro-antd\";\nimport { CommonModule } from \"@angular/common\";\n\n@NgModule({\n  declarations: [TopRankComponent],\n  entryComponents: [TopRankComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [TopRankComponent],\n})\nexport class TopRankModule {}\n","import { createPlugin } from \"plugin-manager\";\nimport { TopRankComponent } from \"./lib/top-rank.component\";\nimport { TopRankModule } from \"./lib/top-rank.module\";\n\nexport default createPlugin({\n  name: \"top-rank\",\n  module: TopRankModule,\n  component: TopRankComponent,\n});\n"],"names":["Component","PluginManagerService","componentData","ViewChild","NgModule","CommonModule","NgZorroAntdModule","createPlugin"],"mappings":"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"}
