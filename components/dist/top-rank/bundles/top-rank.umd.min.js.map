{"version":3,"sources":["ng://top-rank/lib/top-rank.component.ts","ng://top-rank/lib/top-rank.module.ts","ng://top-rank/public-api.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { PluginManagerService, componentData } from \"plugin-manager\";\n\n@Component({\n  selector: \"lib-top-rank\",\n  templateUrl: \"./top-rank.component.html\",\n  styleUrls: [\"./top-rank.component.styl\"],\n})\nexport class TopRankComponent implements OnInit {\n  @ViewChild(\"tbody\")\n  tbodyDiv: ElementRef;\n  @ViewChild(\"rowbody\")\n  rowbodyDiv: ElementRef;\n  data: any;\n  color: any;\n\n  constructor(\n    private pluginManagerService: PluginManagerService,\n    comData: componentData\n  ) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData);\n    this.data = comData.configData.data;\n    this.color = comData.configData.color;\n  }\n\n  ngOnInit() {\n    if (this.data.rollingDirection == 'row') {\n      if (this.data.list.length <= 2) {\n        return\n      }\n      setInterval(() => {\n        let trList = this.rowbodyDiv.nativeElement.querySelectorAll(\".second-wrap\");\n        trList.forEach((element, index) => {\n          element.animate(\n            [\n              { transform: \"translateX(0)\" },\n              { transform: \"translateX(calc(-100% + -20px))\" }\n            ],\n            {\n              duration: 500,\n              iterations: 1,\n            }\n          );\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n        }, 500);\n      }, 3000);\n    } else {\n      let rollingNum = this.data.rollingNum || 3\n      if (this.data.list.length <= rollingNum) {\n        return\n      }\n      const animateElements = () => {\n        let trList = this.tbodyDiv.nativeElement.querySelectorAll(\".fourth-wrap\");\n\n        trList.forEach((element, index) => {\n          if (index == 0) {\n            element.style.transform = \"translateY(-10px) rotateX(90deg)\";\n            trList[0].style.opacity = \"0\";\n            return\n          }\n          element.style.transform = \"translateY(-44px)\";\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n\n          trList.forEach((element) => {\n            element.style.transition = \"none\";\n            element.style.transform = \"translate(0,0)\";\n            element.style.opacity = \"none\";\n            element.style.opacity = \"1\";\n            element.offsetHeight;\n            element.style.transition = \"all 0.5s ease\";\n          });\n        }, 500);\n      };\n      setInterval(animateElements, 3000);\n    }\n  }\n\n  getBodyHeight() {\n    const rollingNum = this.data.rollingNum;\n    const num = rollingNum ? (rollingNum * 43) + 'px' : '100%';\n    return num;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { TopRankComponent } from \"./top-rank.component\";\nimport { NgZorroAntdModule } from \"ng-zorro-antd\";\nimport { CommonModule } from \"@angular/common\";\n\n@NgModule({\n  declarations: [TopRankComponent],\n  entryComponents: [TopRankComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [TopRankComponent],\n})\nexport class TopRankModule {}\n","import { createPlugin } from \"plugin-manager\";\nimport { TopRankComponent } from \"./lib/top-rank.component\";\nimport { TopRankModule } from \"./lib/top-rank.module\";\n\nexport default createPlugin({\n  name: \"top-rank\",\n  module: TopRankModule,\n  component: TopRankComponent,\n});\n"],"names":["TopRankComponent","prototype","ngOnInit","rollingNum","_this","this","data","rollingDirection","list","length","setInterval","rowbodyDiv","nativeElement","querySelectorAll","forEach","element","index","animate","transform","duration","iterations","setTimeout","push","shift","trList","tbodyDiv","style","opacity","transition","offsetHeight","getBodyHeight","Component","args","selector","template","PluginManagerService","componentData","ViewChild","pluginManagerService","comData","console","log","configData","color","TopRankModule","NgModule","declarations","entryComponents","imports","CommonModule","NgZorroAntdModule","exports","createPlugin","name","module","component"],"mappings":"uaA0BEA,EAAAC,UAAAC,SAAA,WAAA,IAyBQC,EAzBRC,EAAAC,KACoC,OAA9BA,KAAKC,KAAKC,iBACRF,KAAKC,KAAKE,KAAKC,QAAU,GAG7BC,YAAW,WACIN,EAAKO,WAAWC,cAAcC,iBAAiB,cAAc,EACnEC,QAAO,SAAEC,EAASC,GACvBD,EAAQE,QACN,CACE,CAAEC,UAAW,eAAe,EAC5B,CAAEA,UAAW,iCAAiC,GAEhD,CACEC,SAAU,IACVC,WAAY,C,CACb,CAEJ,CAAA,EAEDC,WAAU,WACRjB,EAAKE,KAAKE,KAAKc,KAAKlB,EAAKE,KAAKE,KAAKe,MAAK,CAAE,CAC3C,EAAE,GAAG,CACP,EAAE,GAAI,GAEHpB,EAAaE,KAAKC,KAAKH,YAAc,EACrCE,KAAKC,KAAKE,KAAKC,QAAUN,GA4B7BO,YAzBqB,W,IACfc,EAASpB,EAAKqB,SAASb,cAAcC,iBAAiB,cAAc,EAExEW,EAAOV,QAAO,SAAEC,EAASC,GACV,GAATA,GACFD,EAAQW,MAAMR,UAAY,mCAC1BM,EAAO,GAAGE,MAAMC,QAAU,KAG5BZ,EAAQW,MAAMR,UAAY,mBAC3B,CAAA,EAEDG,WAAU,WACRjB,EAAKE,KAAKE,KAAKc,KAAKlB,EAAKE,KAAKE,KAAKe,MAAK,CAAE,EAE1CC,EAAOV,QAAO,SAAEC,GACdA,EAAQW,MAAME,WAAa,OAC3Bb,EAAQW,MAAMR,UAAY,iBAC1BH,EAAQW,MAAMC,QAAU,OACxBZ,EAAQW,MAAMC,QAAU,IACxBZ,EAAQc,aACRd,EAAQW,MAAME,WAAa,eAC5B,CAAA,CACF,EAAE,GAAG,CACP,EAC4B,GAAI,E,EAIrC5B,EAAAC,UAAA6B,cAAA,W,IACQ3B,EAAaE,KAAKC,KAAKH,WAE7B,OADYA,EAA2B,GAAbA,EAAmB,KAAO,M,sBAnFvD4B,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,eACVC,SAAA,6rH,m6IAED,G,yCANQC,EAAAA,oBAAoB,E,MAAEC,EAAAA,aAAa,E,oCAQzCC,EAAAA,UAASL,KAAA,CAAC,QAAO,G,kBAEjBK,EAAAA,UAASL,KAAA,CAAC,UAAS,E,EARtB,IAAAhC,EAsFAA,EAzEE,SAAAA,EACUsC,EACRC,GADQlC,KAAAiC,qBAAAA,EAIRE,QAAQC,IAAI,UAAWF,CAAO,EAC9BlC,KAAKC,KAAOiC,EAAQG,WAAWpC,KAC/BD,KAAKsC,MAAQJ,EAAQG,WAAWC,K,CClBpC,SAAAC,K,2BAACC,EAAAA,SAAQb,KAAA,CAAC,CACRc,aAAc,CAAC9C,GACf+C,gBAAiB,CAAC/C,GAClBgD,QAAS,CAACC,EAAAA,aAAcC,EAAAA,mBACxBC,QAAS,CAACnD,E,EACX,GCNcoD,EAAAA,aAAa,CAC1BC,KAAM,WACNC,ODK0BV,ECJ1BW,UAAWvD,C,CACZ,C"}