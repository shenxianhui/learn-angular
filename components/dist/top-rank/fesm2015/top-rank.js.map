{"version":3,"file":"top-rank.js.map","sources":["ng://top-rank/lib/top-rank.component.ts","ng://top-rank/lib/top-rank.module.ts","ng://top-rank/public-api.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { PluginManagerService, componentData } from \"plugin-manager\";\n\n@Component({\n  selector: \"lib-top-rank\",\n  templateUrl: \"./top-rank.component.html\",\n  styleUrls: [\"./top-rank.component.styl\"],\n})\nexport class TopRankComponent implements OnInit {\n  @ViewChild(\"tbody\")\n  tbodyDiv: ElementRef;\n  @ViewChild(\"rowbody\")\n  rowbodyDiv: ElementRef;\n  data: any;\n  color: any;\n\n  constructor(\n    private pluginManagerService: PluginManagerService,\n    comData: componentData\n  ) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData);\n    this.data = comData.configData.data;\n    this.color = comData.configData.color;\n  }\n\n  ngOnInit() {\n    if (this.data.rollingDirection == 'row') {\n      if (this.data.list.length <= 2) {\n        return\n      }\n      setInterval(() => {\n        let trList = this.rowbodyDiv.nativeElement.querySelectorAll(\".second-wrap\");\n        trList.forEach((element, index) => {\n          element.animate(\n            [\n              { transform: \"translateX(0)\" },\n              { transform: \"translateX(calc(-100% + -20px))\" }\n            ],\n            {\n              duration: 500,\n              iterations: 1,\n            }\n          );\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n        }, 500);\n      }, 3000);\n    } else {\n      let rollingNum = this.data.rollingNum || 3\n      if (this.data.list.length <= rollingNum) {\n        return\n      }\n      const animateElements = () => {\n        let trList = this.tbodyDiv.nativeElement.querySelectorAll(\".fourth-wrap\");\n\n        trList.forEach((element, index) => {\n          if (index == 0) {\n            element.style.transform = \"translateY(-10px) rotateX(90deg)\";\n            trList[0].style.opacity = \"0\";\n            return\n          }\n          element.style.transform = \"translateY(-44px)\";\n        });\n\n        setTimeout(() => {\n          this.data.list.push(this.data.list.shift());\n\n          trList.forEach((element) => {\n            element.style.transition = \"none\";\n            element.style.transform = \"translate(0,0)\";\n            element.style.opacity = \"none\";\n            element.style.opacity = \"1\";\n            element.offsetHeight;\n            element.style.transition = \"all 0.5s ease\";\n          });\n        }, 500);\n      };\n      setInterval(animateElements, 3000);\n    }\n  }\n\n  getBodyHeight() {\n    const rollingNum = this.data.rollingNum;\n    const num = rollingNum ? (rollingNum * 43) + 'px' : '100%';\n    return num;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { TopRankComponent } from \"./top-rank.component\";\nimport { NgZorroAntdModule } from \"ng-zorro-antd\";\nimport { CommonModule } from \"@angular/common\";\n\n@NgModule({\n  declarations: [TopRankComponent],\n  entryComponents: [TopRankComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [TopRankComponent],\n})\nexport class TopRankModule {}\n","import { createPlugin } from \"plugin-manager\";\nimport { TopRankComponent } from \"./lib/top-rank.component\";\nimport { TopRankModule } from \"./lib/top-rank.module\";\n\nexport default createPlugin({\n  name: \"top-rank\",\n  module: TopRankModule,\n  component: TopRankComponent,\n});\n"],"names":[],"mappings":"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"}
