{"version":3,"file":"comprehensive-list.js.map","sources":["ng://comprehensive-list/lib/comprehensive-list.component.ts","ng://comprehensive-list/lib/comprehensive-list.module.ts","ng://comprehensive-list/public-api.ts"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from \"@angular/core\";\nimport { PluginManagerService, componentData } from \"plugin-manager\";\n\ninterface ThemeData {\n  color?: string;\n  backgroundColor?: string;\n}\ninterface ColorData {\n  colType?: Array<string>;\n  themeMap?: string;\n}\n@Component({\n  selector: \"lib-comprehensive-list\",\n  templateUrl: \"./comprehensive-list.component.html\",\n  styleUrls: [\"./comprehensive-list.component.styl\"],\n})\nexport class ComprehensiveListComponent implements OnInit {\n  @ViewChild(\"tbody\")\n  tbodyDiv: ElementRef;\n  data: any;\n  color: any;\n\n  constructor(\n    private pluginManagerService: PluginManagerService,\n    comData: componentData\n  ) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData);\n    this.data = comData.configData.data;\n    this.color = {\n      viewNum: 5,\n      colType: [\"dot\", \"icon\", \"text\", \"text\"],\n      themeMap: {\n        red: {\n          color: \"#FF435B\",\n          backgroundColor: \"#FF435B\",\n        },\n        yellow: {\n          color: \"#FFBF59\",\n          backgroundColor: \"#FFBF59\",\n        },\n        blue: {\n          color: \"#52D2FF\",\n          backgroundColor: \"#52D2FF\",\n        },\n      },\n      ...(comData.configData.color || {}),\n    };\n  }\n\n  ngOnInit() {\n    let viewNum = this.color.viewNum || 5;\n    if (this.data.td.length <= viewNum) {\n      return;\n    }\n    const animateElements = () => {\n      const trList = this.tbodyDiv.nativeElement.querySelectorAll(\".second-wrap\");\n\n\n      trList.forEach((element, index) => {\n        if (index == 0) {\n          element.style.transform = \"translateY(-10px) rotateX(90deg)\";\n          trList[0].style.opacity = \"0\";\n          return\n        }\n        element.style.transform = \"translateY(-43px)\";\n      });\n\n      setTimeout(() => {\n        this.data.td.push(this.data.td.shift());\n\n        trList.forEach((element) => {\n          element.style.transition = \"none\";\n          element.style.transform = \"translate(0,0)\";\n          element.style.opacity = \"none\";\n          element.style.opacity = \"1\";\n          element.offsetHeight;\n          element.style.transition = \"transform 0.5s ease, opacity 0.5s ease\";\n        });\n      }, 300);\n    };\n    setInterval(animateElements, 3000);\n\n\n  }\n\n  getTheme(name: string): ThemeData {\n    const colorData: ColorData = this.color;\n    const themes = Object.entries(colorData.themeMap || {}).map((item) => {\n      const key = item[0];\n      const val = item[1] || {};\n\n      return {\n        name: key,\n        data: val,\n      };\n    });\n    const data = themes.find((item) => item.name === name);\n\n    return data ? data.data : {};\n  }\n  getCountryIcon(iconName) {\n    return `assets/comprehensive-list/image/${iconName}.png`;\n  }\n\n  getBodyHeight() {\n    const dataLength = this.data.td.length;\n    const viewNum = this.color.viewNum;\n    const num = dataLength > viewNum ? viewNum : dataLength;\n    let hPx = 43 + viewNum * 43 + \"px\"\n\n    // return num * 31 + (num - 1) * 10 + \"px\";\n    return viewNum ? hPx : '100%';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ComprehensiveListComponent } from './comprehensive-list.component';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { CommonModule } from '@angular/common'\n\n@NgModule({\n  declarations: [ComprehensiveListComponent],\n  entryComponents: [ComprehensiveListComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [ComprehensiveListComponent]\n})\n\nexport class ComprehensiveListModule { }\n","import { createPlugin } from \"plugin-manager\";\nimport { ComprehensiveListComponent } from \"./lib/comprehensive-list.component\";\nimport { ComprehensiveListModule } from \"./lib/comprehensive-list.module\";\n\nexport default createPlugin({\n  name: \"comprehensive-list\",\n  module: ComprehensiveListModule,\n  component: ComprehensiveListComponent,\n});\n"],"names":[],"mappings":"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"}
