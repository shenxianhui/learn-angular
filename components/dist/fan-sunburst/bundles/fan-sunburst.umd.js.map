{"version":3,"file":"fan-sunburst.umd.js.map","sources":["ng://fan-sunburst/lib/fan-sunburst.component.ts","ng://fan-sunburst/lib/fan-sunburst.module.ts","ng://fan-sunburst/public-api.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { PluginManagerService, componentData } from 'plugin-manager';\n\nconst $: any = (window as any).$;\nconst echarts: any = (window as any).echarts;\n\n@Component({\n  selector: 'lib-fan-sunburst',\n  templateUrl: './fan-sunburst.component.html',\n  styleUrls: ['./fan-sunburst.component.styl']\n})\nexport class FanSunburstComponent implements OnInit {\n\n  data: any;\n  color: any;\n  current: any;\n  myChart: any;\n\n  @ViewChild('fansunburst')\n  fansunburstDiv: ElementRef\n\n  constructor(private pluginManagerService: PluginManagerService, comData: componentData) {\n    // æ¥æ¶ä¸­é´ä»¶ä¼ å¼\n    console.log(\"comData\", comData)\n    this.data = comData.configData.data\n    this.color = comData.configData.color\n  }\n\n  ngOnInit() {\n    let chartDom = this.fansunburstDiv.nativeElement\n    this.myChart = echarts.init(chartDom)\n\n    this.current = 0\n    this.setOption()\n\n    window.addEventListener('resize',()=>{\n      if(this.myChart){\n        this.myChart.resize()\n      }\n    })\n  }\n\n  setOption(){\n    let current = this.current\n    let num = this.data[current].num\n    let totalNum = this.data[current].totalNum\n    \n    let option = {\n      title: {\n        show: true,\n        text: [\"{b|æ°é\\n}\", `{a|${num}} `].join(\"\"),\n        textStyle: {\n          rich: {\n            a: {\n              color: \"#52d2ff\",\n              fontSize: 24,\n              height: 60\n            },\n            b: {\n              color: \"#fff\",\n              fontSize: 14,\n              lineHeight: 14\n            }\n          }\n        },\n        left: \"center\",\n        bottom: '23%',\n      },\n      tooltip: {\n        show: false\n      },\n\n      series: [\n        {\n          min: 0,\n          max: totalNum,\n          radius: '100%',\n          type: 'gauge',\n          startAngle: 180,\n          endAngle: 0,\n          center: ['50%', '75%'],\n          axisLine: {\n            lineStyle: {\n              color: [\n                [num / totalNum, new echarts.graphic.LinearGradient(\n                  0, 1, 1, 0, [{\n                    offset: 0,\n                    color: 'rgba(82,210,255,0.3)',\n                  },\n                  {\n                    offset: 1,\n                    color: '#52d2ff',\n                  }\n                ]\n                )],\n                [num / totalNum + 0.01, 'transparent'],\n                [1, new echarts.graphic.LinearGradient(\n                  0, 1, 1, 0, [{\n                    offset: 0,\n                    color: 'rgba(255,255,255,0.80)',\n                  },\n                  {\n                    offset: 1,\n                    color: 'rgba(255,255,255,0.3)',\n                  }\n                ]\n                )\n\n                ]\n              ],\n              width: 20,\n            }\n          },\n          axisLabel: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          },\n          pointer: {\n            show: false\n          },\n          detail: {\n            show: false\n          },\n          data: []\n        },\n        {\n          // äº®çº¿\n          name: '',\n          z: 5,\n          type: 'pie',\n          cursor: 'default',\n          radius: ['67%', '67%'],\n          center: ['50%', '75%'],\n          hoverAnimation: false,\n          legendHoverLink: false,\n          labelLine: {\n            normal: {\n              show: false,\n            },\n          },\n          data: [\n            {\n              value: 1,\n              itemStyle: {\n                normal: {\n                  borderWidth: 3,\n                  borderColor: {\n                    type: 'linear',\n                    x: 0,\n                    y: 0,\n                    x2: 0,\n                    y2: 1,\n                    colorStops: [{\n                      offset: 0, color: '#fff'\n                    }, {\n                      offset: 0.5, color: 'rgba(255,255,255,0)'\n                    }],\n                    globalCoord: false\n                  }\n                },\n              },\n            },\n          ],\n        },\n        {\n          type: 'gauge',\n          startAngle: 180,\n          endAngle: 0,\n          radius: '65%',\n          center: ['50%', '75%'],\n          axisLine: {\n            lineStyle: {\n              color: [\n                [0, 'rgb(34,46,61)'],\n                [1, 'rgb(34,46,61)']\n              ],\n              width: 50\n            }\n          },\n          splitNumber: 6,\n          splitLine: {\n            distance: -50,\n            length: 51,\n            lineStyle: {\n              width: 10,\n              color: 'rgb(5,26,46)'\n            }\n          },\n          pointer: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            show: false\n          },\n          detail: {\n            show: false\n          },\n          data: [{ value: 0, name: '' }]\n        },\n      ]\n    }\n    \n    option && this.myChart.setOption(option)\n  }\n\n  previous(){\n    if(this.current <= 0){\n      this.current = this.data.length - 1\n    }else{\n      this.current = this.current - 1\n    }\n    console.log('ç¹å»äºä¸ä¸ä¸ª',this.current)\n    this.setOption()\n  }\n\n  next(){\n    if(this.data.length <= this.current + 1){\n      this.current = 0\n    }else{\n      this.current = this.current + 1\n    }\n    console.log('ç¹å»äºä¸ä¸ä¸ª',this.current)\n    this.setOption()\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { FanSunburstComponent } from './fan-sunburst.component';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\nimport { CommonModule } from '@angular/common'\n\n@NgModule({\n  declarations: [FanSunburstComponent],\n  entryComponents: [FanSunburstComponent],\n  imports: [CommonModule, NgZorroAntdModule],\n  exports: [FanSunburstComponent]\n})\n\nexport class FanSunburstModule { }\n","import { createPlugin } from 'plugin-manager';\nimport { FanSunburstComponent } from './lib/fan-sunburst.component';\nimport { FanSunburstModule } from './lib/fan-sunburst.module';\n\nexport default createPlugin({\n  name: 'fan-sunburst',\n  module: FanSunburstModule,\n  component: FanSunburstComponent\n});"],"names":["Component","PluginManagerService","componentData","ViewChild","NgModule","CommonModule","NgZorroAntdModule","createPlugin"],"mappings":"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"}
